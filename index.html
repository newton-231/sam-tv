<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SAMTV</title>
    <style>
        body { background:#000; color:#fff; font-family:Arial; text-align:center; padding:50px; }
        h1 { color:#0af; margin-bottom:30px; }
        .test-box { background:#111; padding:30px; border-radius:15px; margin:30px auto; max-width:400px; }
        button { background:#0af; color:#000; border:none; padding:15px 30px; border-radius:10px; font-size:16px; cursor:pointer; }
        .status { margin-top:20px; padding:10px; border-radius:5px; }
        .success { background:#0a4; }
        .error { background:#a00; }
    </style>
</head>
<body>

<h1>ğŸ“º SAMTV - ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h1>
<p>Ø¥Ø°Ø§ ØªØ±Ù‰ Ù‡Ø°Ø§ØŒ ÙØ§Ù„ØµÙØ­Ø© ØªØ¹Ù…Ù„!</p>

<div class="test-box">
    <h3>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ SAMTV</h3>
    <p>Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„:</p>
    <input type="text" id="codeInput" placeholder="ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„" style="
        width:100%; padding:12px; margin:10px 0; 
        background:#222; color:#fff; border:1px solid #444;
        border-radius:8px; text-align:center;
    " value="29319bd15409c675dc2c942946ff972e9a254c43">
    
    <button onclick="testLogin()">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒÙˆØ¯</button>
    
    <div id="result" class="status"></div>
</div>

<script>
async function testLogin() {
    const code = document.getElementById('codeInput').value.trim();
    const result = document.getElementById('result');
    
    if(!code) {
        result.innerHTML = '<span class="error">âŒ Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹</span>';
        return;
    }
    
    result.innerHTML = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...';
    
    try {
        // ØªØ´ÙÙŠØ± XOR
        const xorEncrypt = (data) => {
            const key = "123456";
            return btoa(data.split('').map((c, i) =>
                String.fromCharCode(c.charCodeAt(0) ^ key.charCodeAt(i % key.length))
            ).join(''));
        };
        
        // Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ SAMTV
        const encrypted = xorEncrypt(JSON.stringify({ code: code, action: "get_live" }));
        
        const response = await fetch('https://samtv4norm.d1d2.org/login.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
                'User-Agent': 'SAMTVPro/5.3 (Android; IPTV)',
                'X-Requested-With': 'com.samtv.app'
            },
            body: `json=${encodeURIComponent(encrypted)}`
        });
        
        const data = await response.json();
        
        if(data.status === "success") {
            result.innerHTML = `<span class="success">âœ… ØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„! ${data.list?.length || 0} Ù‚Ù†Ø§Ø© Ù…ØªØ§Ø­Ø©</span>`;
            console.log("Ø§Ù„Ù‚Ù†ÙˆØ§Øª:", data.list);
        } else {
            result.innerHTML = `<span class="error">âŒ ÙØ´Ù„: ${data.message || "ÙƒÙˆØ¯ ØºÙŠØ± ØµØ§Ù„Ø­"}</span>`;
        }
    } catch(error) {
        result.innerHTML = `<span class="error">âŒ Ø®Ø·Ø£: ${error.message}</span>`;
        console.error("ØªÙØ§ØµÙŠÙ„:", error);
    }
}

// Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
window.onload = function() {
    console.log("ØµÙØ­Ø© SAMTV Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±");
    document.getElementById('codeInput').focus();
};
</script>

</body>
</html>
